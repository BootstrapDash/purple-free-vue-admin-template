{"version":3,"file":"vue-good-wizard.min.js","sources":["../src/components/Wizard.vue","../src/index.js"],"sourcesContent":["<template>\n  <div class=\"wizard\">\n    <ul class=\"wizard__steps\">\n      <li class=\"wizard__step\"\n        :class=\"{\n          'active': isMobile ? currentStep === index : currentStep >= index,\n          'vgw-mobile': isMobile,\n        }\"\n        :style=\"wizardStepStyle\"\n        v-for=\"(step, index) of steps\" :key=\"index\">\n        <span class=\"wizard__step__line\" :class=\"{'vgw-mobile': isMobile}\"></span>\n        <span class=\"wizard__step__label\">{{step.label}}</span>\n        <span class=\"wizard__step__indicator\"></span>\n      </li>\n    </ul>\n    <span \n      class=\"wizard__arrow\" \n      :style=\"{ left: arrowPosition }\">\n    </span>\n    <div ref=\"wizard-body\" class=\"wizard__body\" :class=\"{'vgw-mobile': isMobile}\">\n      <div :key=\"currentSlot\" class=\"wizard__body__step\">\n        <slot :name=\"currentSlot\"></slot>\n      </div>\n      <div class=\"wizard__body__actions clearfix\">\n        <a\n          v-if=\"backEnabled\"\n          class=\"wizard__back pull-left\"\n          @click=\"goBack()\">\n          <i class=\"vgw-icon vgw-prev\"></i>\n          <span>{{previousStepLabel}}</span> \n        </a>\n        <a\n          :class=\"{'disabled': options[currentStep].nextDisabled}\"\n          v-if=\"currentStep != steps.length - 1\" class=\"wizard__next pull-right\"\n          @click=\"goNext()\">\n          <span>{{nextStepLabel}}</span>\n          <i class=\"vgw-icon vgw-next\"></i>\n        </a>\n        <a\n          :class=\"{'disabled': options[currentStep].nextDisabled}\"\n          v-if=\"currentStep == steps.length - 1\" class=\"wizard__next pull-right final-step\" @click=\"goNext()\">\n          {{finalStepLabel}}\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n  name: 'vue-good-wizard',\n\n  props: {\n    steps: {},\n    previousStepLabel: {default: 'Back'},\n    nextStepLabel: {default: 'Next'},\n    finalStepLabel: {default: 'Save'},\n    onNext: {},\n    onBack: {},\n  },\n\n  watch: {\n    steps: {\n      handler() {\n        this.parseOptions();\n      },\n      immediate: true,\n    }\n  },\n\n  data () {\n    return {\n      currentStep: 0,\n      isMounted: false,\n      resizer: null,\n      isMobile: false,\n      options: [],\n    };\n  },\n  computed: {\n    wizardStepStyle() {\n      if (this.isMobile) {\n        return {\n          width: '100%',\n        };\n      }\n\n      return {\n        width: `${100/this.steps.length}%`,\n      };\n    },\n    mobileArrowPosition() {\n      return 'calc(50% - 14px)';\n    },\n    arrowPosition() {\n      if (this.isMobile) {\n        return this.mobileArrowPosition;\n      }\n      var stepSize = 100/this.steps.length;\n      var currentStepStart = stepSize * this.currentStep;\n      var currentStepMiddle = currentStepStart + (stepSize/2);\n      if(this.steps.length == 1)\n        return 'calc('+currentStepMiddle+'%)'\n      else\n        return 'calc('+currentStepMiddle+'% - 14px)'\n    },\n    currentSlot() {\n      return this.steps[this.currentStep].slot;\n    },\n    backEnabled() {\n      return this.currentStep != 0;\n    }\n  },\n  methods: {\n    goNext (skipFunction) {\n      if (!skipFunction && typeof this.onNext == 'function'){\n        if(!this.onNext(this.currentStep)) {\n          //returned false. don't do anything\n          return;\n        }\n      }\n      if (this.currentStep < this.steps.length-1) {\n        this.currentStep++;\n      }\n    },\n    goBack (skipFunction) {\n      if (!skipFunction && typeof this.onBack == 'function'){\n        if(!this.onBack(this.currentStep)) {\n          //returned false. don't do anything\n          return;\n        }\n      }\n      if (this.currentStep > 0) {\n        this.currentStep--;\n      }\n    },\n\n    goTo(step) {\n      if (Number.isInteger(step)\n        && step < this.steps.length\n        && step >= 0) {\n        this.currentStep = step;\n      } \n    },\n    \n    parseOptions() {\n      this.options = [];\n      for(let i = 0; i < this.steps.length; i++) {\n        this.options.push(this.steps[i].options ? this.steps[i].options : {});\n      } \n    },\n\n    handleResize() {\n      console.log('handle resize')\n      if (this.resizer) {\n        clearTimeout(this.resizer);\n      }\n      this.resizer = setTimeout(() => {\n        console.log('resizing...');\n        this.isMobile = this.$refs['wizard-body'].clientWidth < 620;\n      }, 100);\n    },\n  },\n  mounted() {\n    this.isMobile = this.$refs['wizard-body'].clientWidth < 620;\n    window.addEventListener('resize', this.handleResize)\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize)\n  }\n};\n</script>\n\n<style lang=\"css\" scoped>\n/* Utilities\n*******************************/\n\n.pull-left{\n  float:  left !important;\n}\n\n.pull-right{\n  float:  right !important;\n}\n\n.clearfix::after {\n  display: block;\n  content: \"\";\n  clear: both;\n}\n\n/* Header Steps \n*******************************/\n.wizard {\n  position: relative;\n  width:  100%;\n}\n\n.wizard__steps{\n  list-style-type:  none;\n  text-align: justify;\n  -ms-text-justify: distribute-all-lines;\n  text-justify: distribute-all-lines;\n  padding:  0;\n  height:  70px;\n  position:  relative;\n}\n\n.stretch {\n  width: 100%;\n  display: inline-block;\n  font-size: 0;\n  line-height: 0\n}\n\n.wizard__step{\n  height: 70px;\n  vertical-align: bottom;\n  display: inline-block;\n  text-align: center;\n  position:  relative;\n}\n\n.wizard__step:not(:first-child) .wizard__step__line{\n  position: absolute;\n  width:  100%;\n  left:  -50%;\n  bottom:  12px;\n  height:  3px;\n  background-color: #b9c7d2;\n}\n\n.wizard__step__indicator{\n  box-sizing: content-box;\n  display:  block;\n  width:  16px;\n  height:  16px;\n  background-color: #51abe4;\n  border-radius: 50%;\n  border: 3px solid #fff;\n  position:  absolute;\n  left:  50%;\n  margin-left:  -10px;\n  bottom:  2px;\n  z-index: 1;\n}\n\n.wizard__step.active .wizard__step__indicator{\n  background-color: #6eb165;\n}\n\n.wizard__step.active:not(:first-child) .wizard__step__line{\n  background-color: #6eb165; /* green */\n}\n\n.wizard__step__label{\n  color:  #98a4af;\n  font-weight: bold;\n}\n\n/* Wizard body \n*******************************/\n.wizard__body{\n  margin-top:  30px;\n  min-height:  400px;\n  margin-left:  50px;\n  margin-right:  50px;\n  border:  1px solid #aebac4;\n  background-color: #fff;\n  position: relative;\n  border-radius: 5px;\n  padding-bottom: 50px;\n}\n\n.wizard__body__step{\n  padding:  16px;\n}\n\n.wizard__arrow{\n  position:  absolute;\n  display: block;\n  width:  30px;\n  height:  30px;\n  border:  1px solid #aebac4;\n  top:  85px; /* height of step + body margin -15 */\n  border-top-right-radius: 5px;\n  background-color: #fff;\n  border-left: none;\n  border-bottom:  none;\n  transform: rotate(-45deg);\n  z-index: 2;\n  -webkit-transition: left 0.3s;\n  -o-transition: left 0.3s;\n  transition: left 0.3s;\n}\n\n/* Wizard body \n*******************************/\n.wizard__body__actions{\n  position:  absolute;\n  bottom:  0px;\n  height:  50px;\n  width:  100%;\n  border-top:  1px solid #aebac4;\n  background-color: #b9c7d2;\n}\n\n.wizard__body__actions a{\n  width:  120px;\n  height:  100%;\n  display: block;\n  background-color: #51abe4;\n  color:  white;\n  font-weight: bold;\n  text-align: center;\n  line-height: 50px;\n  cursor: pointer;\n  -webkit-transition: background-color 0.3s;\n  -o-transition: background-color 0.3s;\n  transition: background-color 0.3s;\n}\n\n.wizard__body__actions a.disabled{\n  cursor: not-allowed;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  opacity: 0.5;\n}\n\n.wizard__body__actions a>.vgw-icon, .wizard__body__actions a>span{\n  display: inline-block;\n  vertical-align: middle;\n  position: relative;\n}\n\n.wizard__body__actions .vgw-icon::after{\n  position: absolute;\n  content: \"\";\n  transform: rotate(-45deg);\n  width: 8px;\n  height: 8px;\n  top: 50%;\n  margin-top: -5px;\n}\n\n.vgw-icon.vgw-next::after{\n  border-bottom: 2px solid white;\n  border-right: 2px solid white;\n}\n\n.vgw-icon.vgw-prev::after{\n  border-top: 2px solid white;\n  border-left: 2px solid white;\n  left: -10px;\n}\n\n.wizard__body__actions a:hover{\n  background-color: #357fae;\n}\n\n.wizard__body__actions a.final-step{\n  background-color: #6eb165;\n}\n\n/* mobile */\n.wizard__body.vgw-mobile{\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.wizard__step.vgw-mobile{\n  display: none;\n}\n.wizard__step .wizard__step__line.vgw-mobile{\n  display: none;\n}\n.wizard__step.active.vgw-mobile{\n  display: inline-block;\n}\n\n</style>\n","import GoodWizard from './components/Wizard.vue';\n\nvar GoodWizardPlugin = {\n  install: function(Vue, options) {\n    Vue.component(GoodWizard.name, GoodWizard);\n  },\n};\n\n// Automatic installation if Vue has been added to the global scope.\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(GoodWizardPlugin);\n}\n\nexport default GoodWizardPlugin;\nexport { GoodWizard };\n"],"names":["render","default","parseOptions","this","isMobile","steps","length","mobileArrowPosition","stepSize","currentStepMiddle","currentStep","slot","skipFunction","onNext","onBack","step","Number","isInteger","options","let","i","push","log","resizer","setTimeout","$refs","clientWidth","addEventListener","handleResize","removeEventListener","GoodWizardPlugin","Vue","component","GoodWizard","name","window","use"],"mappings":";;;;;;iMAAA,gqIAAA,GAiDA,OAAgBA,+mDAER,qDAIgBC,QAAS,uBACbA,QAAS,wBACRA,QAAS,mEAQjBC,2BAEI,uCAME,aACF,UACF,eACC,2DAMNC,KAAKC,gBAEE,eAKC,IAAID,KAAKE,MAAMC,kDAIpB,gDAGHH,KAAKC,gBACAD,KAAKI,wBAEVC,EAAW,IAAIL,KAAKE,MAAMC,OAE1BG,EADmBD,EAAWL,KAAKO,YACKF,EAAS,SAC7B,GAArBL,KAAKE,MAAMC,OACL,QAAQG,EAAkB,KAE1B,QAAQA,EAAkB,2CAG5BN,KAAKE,MAAMF,KAAKO,aAAaC,oCAGT,GAApBR,KAAKO,uCAINE,IACDA,GAAsC,mBAAfT,KAAKU,QAC3BV,KAAKU,OAAOV,KAAKO,eAKnBP,KAAKO,YAAcP,KAAKE,MAAMC,OAAO,QAClCI,+BAGDE,IACDA,GAAsC,mBAAfT,KAAKW,QAC3BX,KAAKW,OAAOX,KAAKO,eAKnBP,KAAKO,YAAc,QAChBA,6BAIJK,GACCC,OAAOC,UAAUF,IAChBA,EAAOZ,KAAKE,MAAMC,QAClBS,GAAQ,SACNL,YAAcK,iCAKhBG,eACDC,IAAIC,EAAI,EAAGA,EAAIjB,KAAKE,MAAMC,OAAQc,SAC/BF,QAAQG,UAAUhB,MAAMe,GAAGF,aAAeb,MAAMe,GAAGF,wDAKlDI,IAAI,iBACRnB,KAAKoB,sBACMpB,KAAKoB,cAEfA,QAAUC,8BACLF,IAAI,iBACPlB,SAAWD,EAAKsB,MAAM,eAAeC,YAAc,KACvD,+BAIAtB,SAAWD,KAAKsB,MAAM,eAAeC,YAAc,WACjDC,iBAAiB,SAAUxB,KAAKyB,+CAGhCC,oBAAoB,SAAU1B,KAAKyB,gBCvK1CE,WACO,SAASC,EAAKb,KACjBc,UAAUC,EAAWC,KAAMD,KAKb,oBAAXE,QAA0BA,OAAOJ,YACnCA,IAAIK,IAAIN"}